let e=document.createElement("style");e.innerHTML=".HomeLayout .searchHeader{display:flex;justify-content:center;align-items:center;background-color:#fff;padding:0 2.66667vw;position:fixed;top:0;left:0;height:10.66667vw;width:100vw}.HomeLayout .searchHeader .avatarImage{width:8.53333vw;height:8.53333vw}.HomeLayout .searchHeader .avatarPlaceholder{width:8.53333vw;height:8.53333vw;color:#ff4757;font-size:2.66667vw;text-align:center;line-height:8.53333vw;border-radius:50%;background-color:#f2f3f5}.HomeLayout .searchHeader .search{flex:1}.HomeLayout .searchHeader .search .van-search{padding:0;margin:0 2.66667vw}.HomeLayout .searchHeader .search .van-search .van-search__content{background-color:#ebedf0}.HomeLayout .searchHeader .search .van-search .van-cell{height:8vw;padding:0;align-items:center}.HomeLayout .searchHeader .search .van-search .van-cell .van-icon-search{font-size:4.53333vw}.HomeLayout .searchHeader .search .van-search .van-cell .van-field__control::placeholder{font-size:3.46667vw}.HomeLayout .searchHeader .left,.HomeLayout .searchHeader .noticeBtn{width:9.33333vw}.HomeLayout .searchHeader .noticeBtn>i::before{font-size:5.86667vw}.HomeLayout .searchHeader .searchBtn{width:9.33333vw;height:10.66667vw;line-height:10.66667vw;font-size:3.46667vw;text-align:center}",document.head.appendChild(e);import{d as a,i as r,V as o,u as t,a as s,b as c,c as n,S as i,r as l,p as d,H as h,e as u,o as v,f as m,g as f,h as g,F as H,w as y,j as w,K as L,k as p}from"./index.719c5909.js";import{u as k}from"./index.d1fdaee5.js";import{I as x}from"./index.0748ebb8.js";import{S as b}from"./index.00b9cfd8.js";var C=a({name:"home-layout",components:{[x.name]:x,[b.name]:b},setup(e,a){const u=r(o),v=t(),m=s(),f=c(),g=n((()=>f.state.isLogin)),H=n((()=>f.state.userinfo.avatarUrl)),y=n((()=>f.getters[i.GET_USER_ALL_NOTICE_COUNTER])),w=n((()=>"search"===v.name)),L=l({text:"",search(){},isFocus:!1});d(h,L);return{isLogin:g,userAvatar:H,enterNoticeCentra:()=>{u&&u()&&m.push("/notice")},allNoticeCounter:y,isSearchPage:w,loginOrToUser:()=>{u&&u()&&m.push("/user")},homeLayoutHeaderProvideData:L,searchBack:()=>{L.text="",m.back()},focus:()=>{m.push("/search"),L.isFocus=!0},blur:()=>{k.delay((()=>L.isFocus=!1),1)}}}});const P={class:"HomeLayout View"},B={class:"searchHeader"},_={key:1,class:"avatarPlaceholder"},N={class:"search"},T={class:"container"};C.render=function(e,a,r,o,t,s){const c=u("van-icon"),n=u("van-image"),i=u("van-search"),l=u("router-view");return v(),m("div",P,[f("div",B,[g(" 返回按钮 "),e.isSearchPage?(v(),m("div",{key:0,class:"left",onClick:a[1]||(a[1]=(...a)=>e.searchBack&&e.searchBack(...a))},[f(c,{name:"arrow-left"})])):(v(),m(H,{key:1},[g(" 登录和头像 "),f("div",{class:"left","flex-center":"",onClick:a[2]||(a[2]=(...a)=>e.loginOrToUser&&e.loginOrToUser(...a))},[e.isLogin?(v(),m(n,{key:0,class:"avatarImage",src:e.$root.getAvatar(e.userAvatar),fit:"cover",round:"","icon-size":"15"},null,8,["src"])):(v(),m("div",_,"登录"))])],2112)),f("div",N,[f(i,{modelValue:e.homeLayoutHeaderProvideData.text,"onUpdate:modelValue":a[3]||(a[3]=a=>e.homeLayoutHeaderProvideData.text=a),shape:"round",placeholder:"热门搜索内容","clear-trigger":"always",clearable:"",onFocus:e.focus,onBlur:e.blur,onKeydown:y(e.homeLayoutHeaderProvideData.search,["enter"])},null,8,["modelValue","onFocus","onBlur","onKeydown"])]),g(" 搜索按钮 "),e.isSearchPage?(v(),m("div",{key:2,class:"searchBtn",onClick:a[4]||(a[4]=(...a)=>e.homeLayoutHeaderProvideData.search&&e.homeLayoutHeaderProvideData.search(...a))},"搜索")):(v(),m(H,{key:3},[g(" 通知按钮 "),f("div",{class:"noticeBtn","flex-center":"",onClick:a[5]||(a[5]=(...a)=>e.enterNoticeCentra&&e.enterNoticeCentra(...a))},[f(c,{badge:e.allNoticeCounter||"","class-prefix":"lc-ali",name:"email"},null,8,["badge"])])],2112))]),f("div",T,[f(l,null,{default:w((({Component:e})=>[(v(),m(L,null,[(v(),m(p(e)))],1024))])),_:1})])])};export default C;
