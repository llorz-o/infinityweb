import{d as e,b as t,c as o,r as n,af as a,S as c,bf as r,ay as i,az as s,e as u,o as C,f as l,g as d,aA as m,Q as b}from"./index.719c5909.js";import{G as f,a as _}from"./index.bd3299c9.js";var M=e({name:"notice-center-page",components:{[f.name]:f,[_.name]:_},setup(){const e=t(),i=o((()=>l.noticeCounter?l.noticeCounter.answerMeCounter:e.state.statistic.answerMeCounter)),s=o((()=>l.noticeCounter?l.noticeCounter.atMeCounter:e.state.statistic.atMeCounter)),u=o((()=>l.noticeCounter?l.noticeCounter.likeMeCounter:e.state.statistic.likeMeCounter)),C=o((()=>l.noticeCounter?l.noticeCounter.sysNoticeCounter:e.state.statistic.sysNoticeCounter)),l=n({noticeCounter:null});return a((()=>async function(){const e=await r.factor().getNoticeInfo();e.code||(l.noticeCounter=e.data)}())),{answerCounter:i,atMeCounter:s,likeMeCounter:u,sysNoticeCounter:C,clearCounter:t=>{if(l.noticeCounter)switch(t){case 0:l.noticeCounter.answerMeCounter=0,e.commit(c.CLEAR_ANSWER_ME_COUNTER);break;case 1:l.noticeCounter.atMeCounter=0,e.commit(c.CLEAR_AT_ME_COUNTER);break;case 2:l.noticeCounter.likeMeCounter=0,e.commit(c.CLEAR_LIKE_ME_COUNTER);break;case 3:l.noticeCounter.sysNoticeCounter=0,e.commit(c.CLEAR_SYS_NOTICE_COUNTER)}}}}});const k=m();i("data-v-d31dc718");const g=b("消息中心");s();const E=k(((e,t,o,n,a,c)=>{const r=u("Header"),i=u("van-grid-item"),s=u("van-grid"),m=u("Layout");return C(),l(m,{class:"NoticeCenter",header:""},{default:k((()=>[d(r,{fixed:"",onClickLeft:t[1]||(t[1]=t=>e.$router.back())},{default:k((()=>[g])),_:1}),d(s,{clickable:""},{default:k((()=>[d(i,{badge:e.answerCounter||"",to:"/notice/answer-me-list","icon-color":"#d4380d",icon:"comment",text:"回复我的",onClick:t[2]||(t[2]=t=>e.clearCounter(0))},null,8,["badge"]),d(i,{badge:e.atMeCounter||"",to:"/notice/at-list","icon-color":"#2f54eb",icon:"photo-o",text:"@我",onClick:t[3]||(t[3]=t=>e.clearCounter(1))},null,8,["badge"]),d(i,{badge:e.likeMeCounter||"",to:"/notice/like-me-list","icon-color":"#faad14",icon:"good-job",text:"收到的赞",onClick:t[4]||(t[4]=t=>e.clearCounter(2))},null,8,["badge"]),d(i,{badge:e.sysNoticeCounter||"","icon-color":"#434343",icon:"bell",text:"系统通知"},null,8,["badge"])])),_:1})])),_:1})}));M.render=E,M.__scopeId="data-v-d31dc718";export default M;
