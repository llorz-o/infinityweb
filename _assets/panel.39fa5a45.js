import{i as e,p as t,d as a,T as n,s,U as l,W as r,X as o,Y as i,o as u,f as c,Z as d,g as p,l as m,_ as b,Q as f,R as v,h}from"./index.719c5909.js";import{u as w}from"./index.d1fdaee5.js";let g=Date.now();const C=window.requestAnimationFrame||(e=>{const t=Date.now(),a=Math.max(0,16-(t-g));return g=t+a,setTimeout(e,a)}),N=window.cancelAnimationFrame||window.clearTimeout;const P=a=>({provideParent:e=>{t(a,e)},injectParent:()=>e(a)}),T=P("tabs"),x=a({name:"Tabs",props:{modelValue:{type:[String,Number],default:1},beforeChange:{type:Function}},setup(e,t){let a=null,u=null,c=0,d={};const{modelValue:p,beforeChange:m}=n(e),b=(e,t=!1)=>{if(o(d[e]))return;const{index:n,el:s}=d[e];if(!o(n)&&!i(a)&&!i(u)){const{left:e}=s.getBoundingClientRect(),n=e-a.clientWidth/2+s.clientWidth/2;t?u.scrollTo(n+s.scrollLeft,0):function(e,t,a=300){const n=Math.floor(a/16),s=t/n;let l=0,r=0;!function t(){if(l>n)return N(r);e.scrollTo(e.scrollLeft+s,e.scrollTop),l++,r=C(t)}()}(u,n,300)}},f=w.debounce(b,10);s(p,((e,t)=>{e!==t&&b(e)})),T.provideParent({subscript:p,updateSubscript(e){l(m.value)?m.value(e).then((a=>a&&t.emit("update:modelValue",e))):t.emit("update:modelValue",e)},getSubscript:()=>++c,updateName(e,t,a){Reflect.deleteProperty(d,e),d[e]={index:t,el:a}},emitChild(e,t,a){d[e]={index:t,el:a},f(p.value,!0)}});return{b:r("Tabs"),wrapRef:e=>a=e,navRef:e=>u=e}}});x.render=function(e,t,a,n,s,l){return u(),c("div",{class:e.b(["defualt"])},[d(e.$slots,"nav-left"),p("div",{class:e.b("wrap"),ref:e.wrapRef},[p("div",{class:e.b("nav"),ref:e.navRef},[d(e.$slots,"default")],2)],2),d(e.$slots,"nav-right")],2)};const R=a({name:"Tab",props:{name:[String,Number],disabled:{type:Boolean,default:!1}},setup(e,t){const a=T.injectParent();if(o(a))throw new Error("tabs 组件初始化失败");let l=null;const{disabled:u,name:c}=n(e),d=a.getSubscript(),p=m(e.name||d);s(c,((e,t)=>{e==t||o(e)||(p.value=e,a.updateName(p.value,d,l))}));return{b:r("Tab"),onClick:e=>{u.value||a.updateSubscript(b(p))},localName:p,subscript:a.subscript,tabRef:e=>{i(l)&&(l=e,a.emitChild(p.value,d,l))}}}});R.render=function(e,t,a,n,s,l){return u(),c("div",{class:e.b({active:e.localName==e.subscript}),onClick:t[1]||(t[1]=(...t)=>e.onClick&&e.onClick(...t)),ref:e.tabRef},[d(e.$slots,"default",{},(()=>[f(v(e.localName),1)]))],2)};const S=P("Panels"),y=a({name:"Panels",props:{modelValue:{type:[String,Number],default:1}},setup(e,t){const{modelValue:a}=n(e);let s=0;return S.provideParent({subscript:a,getChildIndex:()=>++s}),{b:r("Panels")}}});y.render=function(e,t,a,n,s,l){return u(),c("div",{class:e.b()},[d(e.$slots,"default")],2)};const V=a({name:"Panel",props:{name:[String,Number]},setup(e,t){const a=S.injectParent();if(o(a))throw new Error("panels 组件初始化失败");const{name:l}=n(e),i=a.getChildIndex();let u=e.name||i,c=m(!1);s(l,((e,t)=>{e==t||o(e)||(u=e)})),s(a.subscript,(e=>{o(e)||d()}));const d=()=>{c.value||u==a.subscript.value&&(c.value=!0)};return d(),{b:r("Panel"),subscript:a.subscript,localName:u,rendered:c}}});V.render=function(e,t,a,n,s,l){return u(),c("div",{class:e.b({hide:e.localName!==e.subscript})},[e.rendered?d(e.$slots,"default",{key:0},(()=>[f(v(e.localName),1)])):h("v-if",!0)],2)};export{R as C,x as a,V as b,y as c};
